extends BaseWidget

block content
  script(type="text/javascript")
    $.ajax({
    url: '/GetRegions'
    , type:'POST'
    , success: function(res) {
    YUI().use('inputex', 'inputex-select', function(Y) 
    {
    step#{step_id}FieldsList['#{widget.id}'] = new Y.inputEx.SelectField({label: '!{widget.label}', name: 'step#{step_id}_#{widget.id}', choices: [], value: '#{value}', required:false, parentEl: 'step_#{step_id}_widget_#{widget.id}'});
    for (reg in res)
    {
    step#{step_id}FieldsList['#{widget.id}'].addChoice({value: res[reg]});
    }
    });
    }
    , error: function(jqXHR, textStatus, errorThrown) {
    // [TODO]
    }
    });
