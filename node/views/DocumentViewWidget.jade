extends BaseWidget

block content
  <textarea id="documentView_#{widget.doc_name}" class="document_textarea"></textarea>
  script
    // [TODO] there shoudn't be so many p().p()
    $("#documentView_#{widget.doc_name}").closest(".step").watch("display", function(){ GenerateDocument_#{widget.doc_name}();$('#documentView_#{widget.doc_name}').markItUp(mySettings);}, 100, "");
    if($("#documentView_#{widget.doc_name}").closest(".step").is(":visible"))
        setTimeout(function(){
            GenerateDocument_#{widget.doc_name}();    
            $('#documentView_#{widget.doc_name}').markItUp(mySettings);
        }, 1000); // [ATENTION] correct behavior of this timeout depends on page loading
    
