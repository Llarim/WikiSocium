{
	"id"		:"Heating",
	
	"name"	:"Отсутствие отопления",
	"description": "Если в отопительный сезон не греют или плохо греют батареи - вы имеете право на бесплатный ремонт",
	"data"	:
	{
		"law_doc"	: "Санитарные нормы (СанПиН 2.1.2.2645-10); статья №157 Жилищного кодекса; Постановление правительства РФ №307, раздел VII",
		"documents"	: ["HeatingStatement"]
	},
	
	"currentStep"	: "0",

	"steps"	:
	[
		{
			"id"		: "0",
			"title"		: "Убедитесь в наличии проблемы",
			"type"		: "selection",
			"widgets"	:
			[
				{
	            	"widget_type" : "RadioGroupWidget",
					"id": "season",
					"label": "Отопительный сезон начинается, когда среднесуточная температура не превышает +8 в течение 5 дней. Отопительный сезон начался?",
					"initial": "no",
					"value_list": 
					[
						{ "value": "yes", "label": "Да" },
						{ "value": "no", "label": "Нет" }
					]
				},
				{
	            	"widget_type" : "StaticTextWidget",
	                "text" : "По санитарным нормам (СанПиН 2.1.2.2645-10) минимально допустимыми являются следующие температуры:<p><table><tbody><tr><td>Тип помещения<td><td>Температура</td></tr><tr><td>Жилая комната</td><td>+18</td></tr><tr><td>Кухня, туалет, ванная</td><td>+18</td></tr><tr><td>Межквартирный коридор</td><td>+16</td></tr><tr><td>Лестничная клетка</td><td>+14</td></tr></tbody></table><p> Измерьте температуру в помещении, где по вашему мнению слишком холодно. Замер необходимо производить на расстоянии не менее метра от стены, выходящей на улицу, и на высоте полтора метра над полом."
	            },
				{
	            	"widget_type" : "RadioGroupWidget",
					"id": "temp",
					"label": "Температура ниже нормы?",
					"initial": "yes",
					"value_list": 
					[
						{ "value": "yes", "label": "Да" },
						{ "value": "no", "label": "Нет"},
						{ "value": "hz", "label": "У меня нет термометра"}
					]
				},
				{
	            	"widget_type" : "RadioGroupWidget",
					"id": "reg",
					"label": "В некоторых квартирах на батареи отопления могут быть установлены регуляторы мощности отопления. Проверьте, нет ли у вас такого регулятора, и если еесть, попробуйте отрегулировать температуру с его помощью.<p> Регулятор есть?",
					"initial": "no",
					"value_list": 
					[
						{ "value": "no", "label": "Нет" },
						{ "value": "yes", "label": "Да, попробовал, помогло"},
						{ "value": "yesno", "label": "Да, попробовал, не помогло"}
					]
				}
			],
			"next_steps"	:
			[
				{
					"id"		: "2",
					"predicates":
					[
						{
							"widget_id"	: "season",
							"cond"		: "==",
							"value"		: "yes"
						},
						{
							"widget_id"	: "temp",
							"cond"		: "!=",
							"value"		: "no"
						},
						{
							"widget_id"	: "reg",
							"cond"		: "!=",
							"value"		: "yes"
						}
					]
				},
				{
					"id"		: "noproblem",
					"predicates":
					[
						{
							"widget_id"	: "season",
							"cond"		: "==",
							"value"		: "no"
						}
					]
				},
				{
					"id"		: "noproblem",
					"predicates":
					[
						{
							"widget_id"	: "temp",
							"cond"		: "==",
							"value"		: "no"
						}
					]
				},
				{
					"id"		: "noproblem",
					"predicates":
					[
						{
							"widget_id"	: "reg",
							"cond"		: "==",
							"value"		: "yes"
						}
					]
				}
			]
		},
		{
			"id"	: "2",
			"title" : "Наша цель",
			"type"	: "text",
			"widgets":
			[
				{
	            	"widget_type" : "StaticTextWidget",
	                "text" : "Отопление действительно не соответствует нормам. Значит, вы имеете право на бесплатный ремонт отопления"
	            }
			],
			"next_steps" : [{"id": "3"}]
		},
		{
			"id"	: "3",
			"title"	: "Оформление заявления",
			"type"	: "statement",
			"widgets":
			[
				{
	            	"widget_type" : "StaticTextWidget",
	                "text" : "Чтобы сгенерировать заявление, нажмите \"Сгенерировать\". Если вы хотите, чтобы ваши данные были вставлены в него автоматически, заполните поля ниже, если не хотите - не заполняйте, на нужных местах в тексте заявления останутся пробелы."
	            },
				{
                	"widget_type" : "TextFieldWidget",
					"id" : "fio",
					"label" : "Ваши ФИО полностью в родительном падеже",
					"type" : "string"
                },
				{       
	                "widget_type" : "TextFieldWidget",
                    "id" : "place",
                    "label" : "Ваш адрес",
                    "type" : "string"
                },
                {
                	"widget_type": "TextFieldWidget",
                	"id": "org_name",
                	"label": "Название обслуживающей организации",
                	"type": "string"
                },
				{       
	                "widget_type" : "TextFieldWidget",
                    "id" : "dog_num",
                    "label" : "Номер вашего договора коммунального обслуживания",
                    "type" : "string"
                },
				{       
	                "widget_type" : "TextFieldWidget",
                    "id" : "dog_date",
                    "label" : "Дата заключения договора коммунального обслуживания",
                    "type" : "string"
                },
				{       
	                "widget_type" : "TextFieldWidget",
                    "id" : "pr_date",
                    "label" : "Дата начала проблем с отоплением",
                    "type" : "string"
                },
				{       
	                "widget_type" : "TextFieldWidget",
                    "id" : "pr_length",
                    "label" : "Длительность проблем с отоплением",
                    "type" : "string"
                },
				{
                	"widget_type" : "ListWidget",
					"label": "Тип помещения, в котором проблемы с отоплением (если везде - выбирайте жилую комнату",
					"id": "room_type",
					"initial": "value_1",
					"value_list":
					[
						{ "value": "value_1", "label": "Жилая комната" },																			  							{ "value": "value_2", "label": "Кухня" },
						{ "value": "value_3", "label": "Ванная" },
						{ "value": "value_4", "label": "Туалет" },
						{ "value": "value_5", "label": "Межквартирный коридор" },
						{ "value": "value_6", "label": "Лестничная площадка" }
					]
                },
				{       
	                "widget_type" : "TextFieldWidget",
                    "id" : "temp",
                    "label" : "Температура в указанном выше помещении",
                    "type" : "string"
                },
                {
	                "widget_type" : "DocumentViewWidget",
					"label" : "Нажмите кнопку, чтобы сгенерировать заявление. Сохраните его, оно понадобится на следующем шаге.",
					"doc_name" : "HeatingStatement"
	            }
			],
            "next_steps" : [{ "id" : "4" }]
		},
		{
			"id"	: "4",
			"title"	: "Подача заявления - 1",
			"type"	: "selection",
			"widgets":
			[
				{
					"widget_type": "StaticTextWidget",
					"text"		: "Если есть возможность, перечитайте договор с обслуживающей компанией. Может быть, там указано, каким именно способом предпочтительнее подавать заявление. Если не указано, выберите наиболее удобный вам вариант сами"
				},
				{
	            	"widget_type" : "RadioGroupWidget",
					"id": "method",
					"label": "Как будем подавать заявление?",
					"initial": "1",
					"value_list": 
					[
						{ "value": "1", "label": "Лично" },
						{ "value": "2", "label": "По почте"},
						{ "value": "3", "label": "По телефону"}
					]
				}				
			],
			"next_steps":
			[
				{
					"id": "5",
					"predicate":
					[
						{
							"widget_id": "method",
							"cond": "==",
							"value": "1"
						}
					]
				},
				{
					"id": "6",
					"predicate":
					[
						{
							"widget_id": "method",
							"cond":	"==",
							"value": "2"
						}
					]
				},
				{
					"id": "8",
					"predicate":
					[
						{
							"widget_id": "method",
							"cond": "==",
							"value": "3"
						}
					]
				}
			]
		},
		{
			"id"	: "4",
			"title"	: "Подача заявления - 2",
			"type"	: "offline_action",
			"widgets":
			[
				{
					"widget_type": "StaticTextWidget",
					"text": "1. Распечатайте заявление в двух экземплярах, подпишите их и проставьте дату <p> 2. Отнесите заявление в обслуживающую организацию или в указанную ею аварийно-диспетчерскую службу <p> 3. При приеме заявке на одном из ее экземпляров принимающий сотрудник должен поставить печать, подпись, свою фамилию, время получения и регистрационный номер заявки и отдать его вам, второй оставить организации для рассмотрения /*мб без этого можно пережить и юзать только таймер на шаге 9, но пока таймера нет...*/"
				},
				{
					"widget_type": "TextFieldWidget",
					"id": "zaiav_date",
					"label": "Дата подачи заявления",
					"type": "string"
				}
			],
			"next_steps": [{"id":"9"}]
		},
		{
			"id"	: "6",
			"title"	: "Подача заявления - 2",
			"type"	: "offline_action",
			"widgets": 
			[
				{
					"widget_type": "StaticTextWidget",
					"text": "1. Распечатайте один экземпляр заявления, подпишите его и проставьте дату<p>2. Отправьте с уведомлением о вручении"
				}
			],
			"next_steps": [{"id":"7"}]
		},
		{
			"id"	: "7",
			"title"	: "Ожидание ответа",
			"type"	: "time",
			"widgets":
			[
				{
					"widget_type": "StaticTextWidget",
					"text": "Ждите. Вы прекрасно знаете, как \"хорошо\" работает Почта России"
				},
				{
					"widget_type": "RadioGroupWidget",
					"id" : "wait",
					"label": "Дождались?",
					"initial": "no",
					"value_list":
					[
						{"value": "yes", "label":"Да"},
						{"value": "no", "label": "Нет"}
					]
				},
				{
					"widget_type": "StaticTextWidget",
					"text": "/*вообще-то тут должен быть таймер, но во-первых его пока что нет, а во-вторых - непонятно, сколько именно времени Почта России имеет право тупить и тормозить*/"
				}
			],
			"next_steps":
			[
				{
					"id":"9",
					"predicate":
					[
						{
							"widget_id": "wait",
							"cond":"==",
							"value": "yes"
						}
					]
				},
				{
					"id":"7",
					"predicate":
					[
						{
							"widget_id": "wait",
							"cond": "==",
							"value": "no"
						}
					]
				}
			]
		},
		{
			"id"	: "8",
			"title"	: "Подача заявления - 2",
			"type"	: "offline_action",
			"widgets":
			[
				{
					"widget_type": "StaticTextWidget",
					"text": "Подавая заявку по телефону, требуйте: <p>1. Номер вашей заявки в регистрационном журнале<p>2. Фамилию сотрудника, принявшего заявку<p>/*Где-то здесь творческая мысль выдала вариант поинтересоваться у пользователя, а выслушали ли его вообще и если не выслушали - предложить воспользоваться другим способом. Но пока мне лениво.*/"
				}
			],
			"next_steps": [{"id":"9"}]			
		},
		{
			"id"	: "9",
			"title"	: "Ответ на заявление",
			"type"	: "selection",
			"widgets":
			[
				{
					"widget_type": "RadioGroupWidget",
					"id": "ans",
					"label": "Если обслуживающей организации уже известен факт отсутствия отопления, сотрудник организации должен сделать отметку в журнале регистрации заявок, что является признанием исполнителем факта непредоставления услуг надлежащего качества <p> Если факт не установлен, должна быть назначена дата установления этого факта (дата замера температуры<p> Факт непредоставления услуг - признан?",
					"initial": "1",
					"value_list":
					[
						{"value":"1", "label": "Признан"},
						{"value":"2", "label": "Не признан, будет проверка"},
						{"value":"3", "label": "Не признан, проверять отказались"}
					]
				}
			],
			"next_steps": 
			[
				{
					"id":"11",
					"predicates":
					[
						{
							"widget_id": "ans",
							"cond":"==",
							"value":"1"
						}
					]
				},
				{
					"id":"10",
					"predicates":
					[
						{
							"widget_id": "ans",
							"cond": "==",
							"value": "2"
						}
					]
				},
				{
					"id": "fail",
					"predicates":
					[
						{
							"widget_id": "ans",
							"cond": "==",
							"value": "3"
						}
					]
				}
			]
		},
		{
			"id"	: "10",
			"title"	: "Проверка отсутствия отопления",
			"type"	: "time",
			"widgets":
			[
				{
					"widget_type": "TextFieldWidget",
					"id": "check_date",
					"label": "Назначенная дата проверки",
					"type": "string"
				},
				{
					"widget_type": "StaticTextWidget",
					"text": "/*Тут должен быть таймер, но вида \"до назначенной даты\", а не \"на N дней\"*/<p>В назначенное время и дату должна произойти проверка факта непредоставления отопления <p> На проверке должны присутствовать: <p>1. Вы или ваш представитель<p> 2. Представитель обслуживающей организации<p>3. Представитель организации, непосредственно предоставляющей услуги<p> По результатам замера температуры составляется акт о непредоставлении услуг, в котором должны быть указаны: <p> 1. Обнаруженные нарушения параметров качества услуг (т.е. замеренная температура) <p> 2. Время и дата начала непредоставления услуг (таковым считается время и дата подачи заявления<p>Акт должен быть составлен в двух экземплярах и подписан Вами и представителем обслуживающей организации. Один экземпляр остается у Вас, второй - у организации"
				},
				{
					"widget_type": "RadioGroupWidget",
					"id": "res",
					"label": "Результат проверки?",
					"initial": "1",
					"value_list":
					[
						{"value": "1", "label": "Акт составлен"},
						{"value": "2", "label": "Успело потеплеть, акт не составлен"},
						{"value": "3", "label": "В квартире по-прежнему холодно, акт не составлен"},
						{"value": "4", "label": "В назначенный день проверка не состоялась"}
					]
				}
			],
			"next_steps": 
			[
				{
					"id":"11",
					"predicates":
					[
						{
							"widget_id":"res",
							"cond":"==",
							"value":"1"
						}
					]
				},
				{
					"id":"noproblem",
					"predicates":
					[
						{
							"widget_id": "res",
							"cond":"==",
							"value": "2"
						}
					]
				},
				{
					"id":"fail",
					"predicates":
					[
						{
							"widget_id": "res",
							"cond":"==",
							"value":"3"
						},
						{
							"widget_id": "res",
							"cond":"==",
							"value":"4"
						}
					]
				}
			]
		},
		{
			"id":"11",
			"title":"Ждем ремонта",
			"type":"time",
			"widgets":
			[
				{
					"widget_type": "StaticTextWidget",
					"text": "В течение 7 дней от момента признания факта непредоставления услуг должны быть произведены ремонтные работы<p>/*тут должен быть таймер*/ "
				},
				{
					"widget_type": "RadioGroupWidget",
					"id":"rem",
					"label": "Ремонтные работы произведены?",
					"initial": "yes",
					"value_list":
					[
						{"value":"yes", "label":"Да"},
						{"value": "noobj", "label": "Нет, но по объективным  причинам"},
						{"value": "no", "label": "Нет"}
					]
				}
			],
			"next_steps":
			[
				{
					"id": "win",
					"predicates":
					[
						{
							"widget_id": "rem",
							"cond": "==",
							"value": "yes"
						}
					]
				},
				{
					"id":"halfwin",
					"predicates":
					[
						{
							"widget_id":"rem",
							"cond":"==",
							"value":"noobj"
						}
					]
				},
				{
					"id":"fail",
					"predicates":
					[
						{
							"widget_id": "rem",
							"cond":"==",
							"value":"no"
						}
					]
				}
			]
		},
		{
			"id": "win",
			"title": "Получилось!",
			"type": "ok_step",
			"widgets":
			[
				{
					"widget_type": "StaticTextWidget",
					"text": "Все отремонтировано. <p> За время отсутствия у Вас отопления надлежащего качества вам должен быть произведен перерасчет квартплаты, но это уже другая история"
				}
			],
			"next_step":[]
		},
		{
			"id": "halfwin",
			"title": "Не совсем получилось",
			"type": "ok_step",
			"widgets":
			[
				{
					"widget_type": "StaticTextWidget",
					"text": "К сожалению, проблемы с отоплением оказались не исправляемыми в нужный срок. Но по крайней мере, и Вы и обслуживающая организация сделали все, что могли.<p> Вы имеете право на перерасчет квартплаты за то время, когда отопление было ненадлежащего качества. Но подача заявления на перерасчет отопления - это уже другая история..."
				}
			],
			"next_steps": []
		},
		{
			"id": "fail",
			"title": "Все плохо",
			"type": "not_ok_step",
			"widgets":
			[
				{
					"widget_type": "StaticTextWidget",
					"text": "К сожалению, ничего не получилось. Вы можете попытаться подать заявление в суд, попытаться решить проблему другим способом или действовать подручными методами. Но это уже другая история"
				}
			]
		},
		{
			"id"	: "noproblem",
			"title" : "Отопление соответствует санитарным нормам",
			"type"	: "text",
			"widgets":
			[
				{
	            	"widget_type" : "StaticTextWidget",
	                "text" : "К сожалению, с точки зрения санитарных норм у вас все в порядке. Придется бороться с холодом подручными средствами."
	            }
			],
			"next_steps":[]			
		}
	]
}
