{
	"id"		:	"BadService",
	"name"		:	"Составление претензии по некачественной услуге",
	"description"	:	"",	
	"data"		:
	{
		"documents"	: ["BadServiceComplaint"]		
	},			
	"initialStep"	:	"0",
	"sections"	:
	[
		{
			"name": "Описываем ситуацию",
			"steps": ["0", "0.5", "1", "2"]
		},
		{
			"name": "Готовим претензию",
			"steps": ["3", "4", "5", "6"]
		}
	],
	"steps"		:
	[
		{
			"id"		:	"0",
			"title"		:	"О работе/услуге",
			"type"		:	"general_data",
			"widgets":
			[
						{
							"widget_type"	:	"TextFieldWidget",
							"id"		:	"ServiceName",
							"IsRequired"    : "true",
							"label"		:	"Что Вы заказывали? TODO:(Например: крой костюма, постройку бани)" 
						},
						
						{
							"widget_type"	:	"TextFieldWidget",
							"id"		:	"ServicePrice",
							"label"		:	"Полная стоимость услуги, руб.",
							"type"		:	"number" 
						},
						{
							"widget_type"	:	"TextFieldWidget",
							"id"		:	"BuyDate",
							"label"		:	"Дата заключения договора об оказании услуг",
							"type"		:	"date"		 
						}
		
				
			],
			"next"		:	[{ "id": "0.5"} ] 					
		},
		{
			"id"		: 	"0.5",
			"title"		: 	"Об исполнителе",
			"type"		:	"general_data",	
			"widgets":
					[
						{
							"widget_type"	:	"TextFieldWidget",
							"id"		:	"SellerName",
							"label"		:	"Наименование TODO: (например, ООО \"Начало\" , ЗАО \"Движение\"  или ИП В.Н. Иванов)"		
						},
						{
							"widget_type" : "MapsWidget",
                                              		"id" : "SellerAddress",
                                              		"label" : "Адрес",
							"initial": {"lat": "55.690725", "lng": "37.413179", "address": ""},
                                              		"type" : "WSMaps"
						}
					
					],
			"next"		: [{ "id": "1"}]					
		},
		{
			"id"		:	"1",
			"title"		:	"Проблемы со сроками",
			"type"		:	"general_data",
			"widgets"	:
			[
				{
					"widget_type"	:	"RadioGroupWidget",
					"id"		:	"IsTimeProblems",
					"label"		:	"Были ли проблемы со сроком выполнения работы?",
					"value_list"	:
					[
						{
							"label"	:	"Работа не была выполнена/завершена",
							"value"	:	"0"
						},
						{
												
							"label"	:	"Работа выполнена, но с опозданием",
							"value"	:	"1"
						},
						{
							"label"	:	"Нет, проблем со сроками исполнения работ не было",
							"value"	:	"2"
						}
					]
				},
				{
					"widget_type"	:	"TextFieldWidget",
					"id"		:	"WorkFinishedDate",
					"label"		:	"Дата завершения работ по договору",
					"type"		:	"date",
					"isVisible"	:
					{
						"predicates"	:
						[
							{
								"step_id"	:	"1",
								"widget_id"	:	"IsTimeProblems",
								"cond"		:	"!=",								
								"value"		:	"2"
							}						
						]
					}
				},
				{
					"widget_type"	:	"TextFieldWidget",
					"id"		:	"DeliveryDelayDays",
					"label"		:	"На сколько дней опоздали с завершением работ?",
					"type"		:	"number",
					"isVisible"	:
					{
						"predicates"	:
						[
							{
								"step_id"	:	"1",
								"widget_id"	:	"IsTimeProblems",
								"cond"		:	"==",								
								"value"		:	"1"
							}						
						]
					}
				}
				
				
			],
			"next"		:						
			[ 
				{ 
					"id" 		:	"2",
					"predicates" 	:
					[	
						{
							"widget_id"	:	"IsTimeProblems",
							"cond"		:	"!=",
							"value"		:	"0" 						
						}
					]
				},
				{ 
					"id" 		:	"3",
					"predicates" 	:	
					[
						{
							"widget_id"	:	"IsTimeProblems",
							"cond"		:	"==",
							"value"		:	"0" 						
						}
					]
				}
			]
		},
		{
			"id"		:	"2",
			"title"		:	"Недостатки исполнения и сопутствующие проблемы",
			"type"		:	"general_data",
			"widgets"	:
			[
				{
					"widget_type"	:	"RadioGroupWidget",
					"id"		:	"IsServiceProblems",
					"label"		:	"Работа выполнена с недостатками?",
					"value_list"	:
					[
						{
							"label"	:	"Недостатков нет",
							"value"	:	"0"
						},
						{
												
							"label"	:	"Найдены недостатки",
							"value"	:	"1"
						}
					]	
				},
				{
				 "widget_type"	:	"TextFieldWidget",
					"id"		:	"ServiceProblemsDate",
					"label"		:	"Дата обнаружения недостатков",
					"type"    : "date",
					"isVisible"	:
					{
						"predicates"	:
						[
							{
								"step_id"	:	"2",
								"widget_id"	:	"IsServiceProblems",
								"cond"		:	"==",								
								"value"		:	"1"
							}						
						]
					}
				},
				{
					"widget_type"	:	"TextFieldWidget",
					"id"		:	"ServiceProblems",
					"label"		:	"Опишите, что не так TODO: Сделать TextArea; TODO2: (например: на третий день носки пиджак разошёлся по швам; в стенах бани дыры толщиной в палец. Постарайтесь заручиться доказательствами - см. Рекомендации по фиксации недостатков и другого ущерба)",
					"isVisible"	:
					{
						"predicates"	:
						[
							{
								"step_id"	:	"2",
								"widget_id"	:	"IsServiceProblems",
								"cond"		:	"==",								
								"value"		:	"1"
							}						
						]
					}
				},
				{
					"widget_type"	:	"CheckBoxWidget",
					"id"		:	"IsProblemsHealth",
					"label"		:	"Вашему здоровью был нанесён вред (в т.ч. моральный)?",
					"isVisible"	:
					{
						"predicates"	:
						[
							{
								"step_id"	:	"2",
								"widget_id"	:	"IsServiceProblems",
								"cond"		:	"==",								
								"value"		:	"1"
							}						
						]
					}
				},
				{
					"widget_type"	:	"TextFieldWidget",
					"id"		:	"ServiceProblemsHealth",
					"label"		:	"Напишите, в чём выразился вред здоровью TODO: Сделать TextArea; TODO2:  (например: Вы попали в аварию из-за плохо выполненной починки машины. Необходимо заручиться доказательствами - см. Рекомендации по фиксации недостатков и другого ущерба)",
					"isVisible"	:
					{
						"predicates"	:
						[
							{
								"step_id"	:	"2",
								"widget_id"	:	"IsServiceProblems",
								"cond"		:	"==",								
								"value"		:	"1"
							},
							{
								"step_id"	:	"2",
								"widget_id"	:	"IsProblemsHealth",
								"cond"		:	"==",								
								"value"		:	"1"
							}						
						]
					}
				},
				{
					"widget_type"	:	"CheckBoxWidget",
					"id"		:	"IsProblemsMoney",
					"label"		:	"Вашему имуществу нанесён ущерб из-за недостатков исполнения работы?",
					"isVisible"	:
					{
						"predicates"	:
						[
							{
								"step_id"	:	"2",
								"widget_id"	:	"IsServiceProblems",
								"cond"		:	"==",								
								"value"		:	"1"
							}						
						]
					}
				},
				{
					"widget_type"	:	"TextFieldWidget",
					"id"		:	"ServiceProblemsMoney",
					"label"		:	"Напишите, в чём выразился ущерб TODO: Сделать TextArea; TODO2:  (например: дублёнка после химчистки безнадёжно испорчена. Необходимо заручиться доказательствами - см. Рекомендации по фиксации недостатков и другого ущерба)",
					"isVisible"	:
					{
						"predicates"	:
						[
							{
								"step_id"	:	"2",
								"widget_id"	:	"IsServiceProblems",
								"cond"		:	"==",								
								"value"		:	"1"
							},
							{
								"step_id"	:	"2",
								"widget_id"	:	"IsProblemsMoney",
								"cond"		:	"==",								
								"value"		:	"1"
							}						
						]
					}
				}
			],
			"next"		:	[ { "id" : "3" } ] 					
		},
		{
			"id"		:	"3",
			"title"		:	"Требования",
			"type"		:	"general_data",
			"widgets"	:
			[
				{
					"widget_type"	:	"RadioGroupWidget",
					"id"		:	"RequestsNotServiced",
					"label"		:	"Требую: ",
					"value_list"	:
					[
						{
							"value"	: 	"0",
							"label"	:	"Выполнить работу в новый срок"
						},

						{
							"value"	:	"1",
							"label"	:	"Расторгнуть договор оказания услуг (подряда) и вернуть предоплату"
						}
					],
					"isVisible"	:
					{
						"predicates"	:
						[
							{
								"step_id"	:	"1",
								"widget_id"	:	"IsTimeProblems",
								"cond"		:	"==",								
								"value"		:	"0"
							}
						]
					}
				},
				{
					"widget_type"	:	"TextFieldWidget",
					"id"		:	"RequestsNewServiceDate",
					"label"		:	"Новый срок завершения работ",
					"isVisible"	:
					{
						"predicates"	:
						[
							{
								"step_id"	:	"1",
								"widget_id"	:	"IsTimeProblems",
								"cond"		:	"==",								
								"value"		:	"0"
							},
							{
								"step_id"	:	"3",
								"widget_id"	:	"RequestsNotServiced",
								"cond"		:	"==",								
								"value"		:	"0"
							}						
						]
					}
				},
				{
					"widget_type"	:	"CheckBoxWidget",
					"id"		:	"RequestsServiceDelayMoney",
					"label"		:	"Требуем уплаты неустойки в размере 3% за каждый день опоздания с завершением работ (если работа не сделана - за каждый день от даты завершения работ по договору до текущего дня)",
					"isVisible"	:
					{
						"predicates"	:
						[
							{
								"step_id"	:	"1",
								"widget_id"	:	"IsTimeProblems",
								"cond"		:	"!=",								
								"value"		:	"2"
							}
						]
					}
				},
				{
					"widget_type"	:	"RadioGroupWidget",
					"id"		:	"Requests",
					"label"		:	"Требую: ",
					"value_list"	:
					[
						{
							"value"	:	"0",
							"label"	:	"Расторгнуть договор оказания услуг (подряда на работы) и вернуть уплаченную сумму"
						},
						{
							"value"	:	"1",
							"label"	:	"Безвозмездно устранить все указанные недостатки"
						},
						{
							"value"	:	"2",
							"label"	:	"Безвозмездно повторно выполнить работу (изготовить другую вещь из однородного материала такого же качества)"
						},
						{
							"value"	:	"3",
							"label"	:	"Соразмерно уменьшить цену работы и вернуть мне разницу"
						},
						{
							"value"	:	"4",
							"label"	:	"Возместить ущерб из-за устранения недостатков своими силами"
						}

					],
					"isVisible"	:
					{
						"predicates"	:
						[
							
							{
								"step_id"	:	"1",
								"widget_id"	:	"IsTimeProblems",
								"cond"		:	"!=",								
								"value"		:	"0"
							},
							{
								"step_id"	:	"2",
								"widget_id"	:	"IsServiceProblems",
								"cond"		:	"==",								
								"value"		:	"1"
							}
						]
					}		
				},
				{
					"widget_type"	:	"TextFieldWidget",
					"id"		:	"PriceDiscountMoney",
					"label"		:	"На сколько, Вы считаете, нужно снизить цену работы (руб.)?",
					"type"		:	"number",
					"isVisible"	:
					{
						"predicates"	:
						[
							{
								"step_id"	:	"3",
								"widget_id"	:	"Requests",
								"cond"		:	"==",								
								"value"		:	"3"
							}
						]
					}
				},
				{
					"widget_type"	:	"TextFieldWidget",
					"id"		:	"SelfRepairMoney",
					"label"		:	"Размер ущерба из-за возмещения недостатков своими силами",
					"type"		:	"number",
					"isVisible"	:
					{
						"predicates"	:
						[
							{
								"step_id"	:	"3",
								"widget_id"	:	"Requests",
								"cond"		:	"==",								
								"value"		:	"4"
							}
						]
					}
				},
				{
					"widget_type"	:	"TextFieldWidget",
					"id"		:	"RequestHealthProblems",						
					"label"		:	"Во сколько Вы оцениваете вред, нанесённый Вашему здоровью (руб.)?",
					"type"		:	"number",
					"isVisible"	:
					{
						"predicates"	:
						[
							{
								"step_id"	:	"2",
								"widget_id"	:	"IsProblemsHealth",
								"cond"		:	"==",								
								"value"		:	"1"
							}
						]
					}
				},
				{
					"widget_type"	:	"TextFieldWidget",
					"id"		:	"RequestDamage",
					"label"		:	"Во сколько Вы оцениваете ущерб из-за недостатков исполнения работ (руб.)?",
					"type"		:	"number",
					"isVisible"	:
					{
						"predicates"	:
						[
							{
								"step_id"	:	"2",
								"widget_id"	:	"IsProblemsMoney",
								"cond"		:	"==",								
								"value"		:	"1"
							}
						]
					}
				}

			],
			"next"		:	[ { "id" : "4" } ] 					
		},
		{
			"id"		:	"4",
			"title"		:	"Текст претензии",
			"type"		:	"document_text",
			"widgets"	:
			[
				{
					"widget_type"	: 	"DocumentViewWidget",
					"id"		:	"BadServiceComplaintView",
					"label"		: 	"Перед Вами текст претензии. Вы можете скопировать его в буффер, сохранить или распечатать. Далее его нужно будет отправить адресату - как это сделать, описано на следующем шаге.",
					"doc_name"	:	"BadServiceComplaint" 
				}
			],
			"next"		:	[ { "id" : "5" } ] 					
		},
		{
			"id"		:	"5",
			"title"		:	"Отправка претензии",
			"type"		:	"timer",
			"widgets"	:
			[
				{
					"widget_type"	:	"StaticTextWidget",
					"id"		:	"SendCompaintInfo",
					"label"		: "<div>   <li> Распечатайте текст претензии (не забудьте заполнить персональные данные!)   <li> Сделайте ксерокопию договора оказания услуг (подряда на работы) и приложите их к претензии. Также сделайте ксерокопии заключений врача, оценщика - если таковые имеются.<li> Отправьте претензию с приложениями по почте, заказным письмом с уведомлением о вручении - см. <a>TODO: Отправка заказного письма с уведомлением</a>. Тогда можно будет отследить, что письмо пришло адресату. А если дело дойдёт до суда, уведомление является доказательством получения адресатом претензии. <li> Укажите здесь, когда Вам придёт уведомление о доставке письма. После указания этого момента мы запустим отсчёт времени, в течение которого Вам должны будут ответить </div>"	
				},
				{
          "widget_type" : "TimerFromDateWidget",
          "id" : "SendCompaintTimer",
          "pickDateMessage": "Когда вы получили уведомление о доставке претензии?",
          "iDidItMessage": "Я отправил претензию и получил уведомление о доставке",
          "initial":
          {
            "startDate": "0",
            "pauseDate": "0",
            "workingPeriod": {"days": "27", "hours": "0", "leftover": "0"},
            "state": "stopped"
          }
}
        
				
			],
			"next"		:	[ { "id" : "6" } ] 					
		},	
		{
			"id"		:	"6",
			"title"		:	"Отстаиваем свои права в суде",
			"type"		:	"general_data",
			"widgets"	:
			[
				{
					"widget_type"	:	"StaticTextWidget",
					"id"		:	"CourtInfo",
					"label"		: "TODO: Рекомендации по подаче заявления в суд"	
				}

			],
			"next"		:	[] 					
		}	

	]
}







