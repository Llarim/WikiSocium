YUI.add("inputex-multiselectcustom",function(c){var a=c.inputEx,b=c.Lang;a.MultiSelectCustomField=function(d){this.options=this.options||{};this.listSelectOptions=d.listSelectOptions;this.maxItems=d.maxItems;this.maxItemsAlert=d.maxItemsAlert;this.classRemoveButton=d.classRemoveButton;a.MultiSelectCustomField.superclass.constructor.call(this,d);this.confirmEmpty=d.confirmEmpty};c.extend(a.MultiSelectCustomField,a.MultiSelectField,{renderComponent:function(){a.MultiSelectCustomField.superclass.renderComponent.call(this);this.ddlist=new a.widget.ListCustom({classRemoveButton:this.classRemoveButton,parentEl:this.fieldContainer,listSelectOptions:this.listSelectOptions,maxItems:this.maxItems,uniqueness:true,maxItemsAlert:this.maxItemsAlert});this.ddlist.on("listChanged",this.fireUpdatedEvt,this,true);this.el.name="";var d={type:"hidden",value:""};if(this.options.name){d.name=this.options.name}this.hiddenEl=a.cn("input",d);this.fieldContainer.appendChild(this.hiddenEl)},getState:function(){if(this.confirmEmpty&&!this.confirmedEmpty){if(this.getValue().length==0){if(typeof(this.confirmEmpty)=="string"){this.confirmedEmpty=(confirm(this.confirmEmpty)?"valid":"invalid")}else{if(typeof(this.confirmEmpty)=="function"){this.confirmedEmpty=this.confirmEmpty()}}return this.confirmedEmpty}}else{if(this.confirmedEmpty){if(this.getValue().length==0){return this.confirmedEmpty}}else{a.MultiSelectCustomField.superclass.getState.call(this)}}},setValue:function(k,f){var g,h,d,e,j=[];if(!b.isArray(k)){return}for(g=0,h=this.choicesList.length;g<h;g+=1){this.enableChoice(g)}this.ddlist.setValue(k,false);for(g=0;g<k.length;g++){d=this.getChoicePosition({value:k[g].value||k[g]});e=this.choicesList[d];this.hideChoice({position:d})}if(f!==false){this.fireUpdatedEvt()}},onItemRemoved:function(d,e){this.showChoice({value:d.value});this.el.selectedIndex=0;if(!(e==false)){this.fireUpdatedEvt()}},disable:function(){a.MultiSelectCustomField.superclass.disable.call(this);this.ddlist.disable()},enable:function(){a.MultiSelectCustomField.superclass.enable.call(this);this.ddlist.enable()},clear:function(){a.MultiSelectCustomField.superclass.clear.call(this);this.ddlist.enable();this.setValue([])}});a.registerType("multiselectcustom",a.MultiSelectCustomField)},"3.0.0a",{requires:["inputex-pie-listcustom","inputex-multiselect"]});