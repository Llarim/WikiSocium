YUI.add("inputex-multiautocompletecustom",function(b){var a=b.inputEx;a.MultiAutoCompleteCustom=function(c){this.options={};this.maxItems=c.maxItems;this.maxItemsAlert=c.maxItemsAlert;this.animColors=c.animColors;this.uniqueness=c.uniqueness;this.lastElemValue="";this.labelAddButton=c.labelAddButton||"Add";this.classRemoveButton=c.classRemoveButton||"removeButton";a.MultiAutoCompleteCustom.superclass.constructor.call(this,c)};b.extend(a.MultiAutoCompleteCustom,a.MultiAutoComplete,{renderComponent:function(){a.MultiAutoComplete.superclass.renderComponent.call(this);this.buttonAdd=a.cn("div",{className:"addButton"},{},this.labelAddButton);b.on("click",this.onAdd,this.buttonAdd,this);this.el.parentNode.appendChild(this.buttonAdd);this.ddlist=new a.widget.ListCustom({parentEl:this.fieldContainer,maxItems:this.maxItems,classRemoveButton:this.classRemoveButton,maxItemsAlert:this.maxItemsAlert,animColors:this.animColors,uniqueness:this.uniqueness});this.ddlist.on("itemRemoved",function(){this.setClassFromState();this.fireUpdatedEvt()},this);this.ddlist.on("listReordered",this.fireUpdatedEvt,this)},onAdd:function(g,c){if(this.el.value==""){return}if(this.el.value.split(",").length!=1){var d=this.el.value.split(",");for(var f=0;f<d.length;f++){this.ddlist.addItem({label:d[f],value:d[f]})}}else{this.ddlist.addItem({label:this.el.value,value:this.el.value})}this.el.value="";this.lastElemValue="";this.hiddenEl.value=this.stringifyValue();this.fireUpdatedEvt()},clear:function(){this.lastElemValue="";this.el.value="";this.setValue([])},onChange:function(c){this.setClassFromState();if(this.lastElemValue!=this.el.value){this.lastElemValue=this.el.value}this.hiddenEl.value=this.stringifyValue()},onBlur:function(c){if(this.lastElemValue!=this.el.value&&this.el.value!=this.options.typeInvite){this.el.value=this.lastElemValue}if(this.el.value==""&&this.options.typeInvite){b.one(this.divEl).addClass("inputEx-typeInvite");this.el.value=this.options.typeInvite}else{if(c.target.ac){return}else{if(this.el.value!==""){this.onAdd()}}}},onKeyPress:function(c){if(c.keyCode==13){c.halt();this.onAdd()}}});a.registerType("multiautocompletecustom",a.MultiAutoCompleteCustom)},"3.0.0a",{requires:["inputex-multiautocomplete","inputex-pie-listcustom"]});