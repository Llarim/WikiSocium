(function(){var a=YAHOO.util.Event;inputEx.TextAutoTag=function(b){inputEx.TextAutoTag.superclass.constructor.call(this,b);this.on("updated",this.handleUpdate,this,true)};Y.extend(inputEx.TextAutoTag,inputEx.Textarea,{setOptions:function(b){inputEx.TextAutoTag.superclass.setOptions.call(this,b);this.textKey=b.textKey||"context";this.tmpWordsCount=0;this.service=new inputEx.RPC.Service(b.smd||"yuiExtractor.smd",{success:this.initAutoTag,scope:this});this.autoTagMethodName=b.autoTagMethodName||"requestTags";this.tagEl=typeof(b.tagEl)=="string"?document.getElementById(b.tagEl):b.tagEl},initAutoTag:function(){this.serviceReady=true},addTags:function(b){this.tagEl.appendChild(inputEx.cn("span",null,null,b.ResultSet.Result.join(",")))},getTags:function(b,c){if(this.serviceReady){this.service[this.autoTagMethodName]({context:this.getValue()},c)}},handleUpdate:function(){var b=this.getValue();if(this.doWeRequest(b)){var c={success:function(d){this.addTags(d)},failure:function(d){},scope:this};this.getTags(b,c)}},handleResponse:function(f,e,h,g){console.log(this,"callback",f,e,h,g)},doWeRequest:function(c){var b=c.split(" ").length;if(true){this.tmpWordsCount=b;return true}return false}});inputEx.registerType("autotag",inputEx.Textarea)})();